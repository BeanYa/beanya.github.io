---
title: Python---变量和数据类型
date: 2019-07-17 02:16:45
categories:
- Python
tags:
- Python
- Note
---
## 内容

基本的前提知识和基本数据类型的运算等。

## 到底在学什么

其实入门就是学一下思维方式，适应python编写的思维方式。

写程序其实跟写文章没有很大区别，如果你把一个python的代码，全部（包括运算符）翻译成中文，那么其实一段代码在干什么是很直白的，其实也就是在学习一些基础的知识，并在敲demo的过程中适应python的思维方式，看到题目或者别的需求之类的就能想出相应的代码了。

## 基本前提知识

### 运算数

进行运算的对象，`1 + 2`中，`1`和`2` 都是运算数，`+`是运算符。

### 运算符

按所需运算数数量的分法，分双目运算符、单目运算符。

双目运算符：运算符左右两边都有值或表达式，例如：`<` 需要两个值 `1<2`才能进行运算。
> 还有类似: `+=`、`*=` 等，后续再补充作用

单目运算符：只需要一个运算数，例如：`not`只需要一个值`not True` 即可。
> 还有类似: `++`、`--` 等，后续再补充作用

`下面的算术运算符和比较运算符仅做介绍，不用记忆，需要了再看`

#### 算术运算符

以下假设变量： `a = 10`，`b = 20`：

|运算符|	描述|	实例
|:---:|:---:|:---:|
| + |	加 - 两个对象相加 |	`a + b` 输出结果 30
| - |	减 - 得到负数或是一个数减去另一个数 |	`a - b` 输出结果 -10
| * |	乘 - 两个数相乘或是返回一个被重复若干次的字符串 |	`a * b` 输出结果 200
| / |	除 - x除以y |	`b / a` 输出结果 2
| % |	取模 - 返回除法的余数 |	`b % a` 输出结果 0
| ** |	幂 - 返回x的y次幂 |	`a**b` 为10的20次方， 输出结果 100000000000000000000
| // |	取整除 - 返回商的整数部分 |向下取整	

`//`的例子：

> 9//2
>>4
>
> -9//2
>>-5

#### 比较运算符

以下假设变量`a = 10`，变量`b = 20`：

| 运算符	| 描述	| 实例
|:---:|:---:|:---:|
| ==	| 等于 - 比较对象是否相等	| (a == b) 返回 False。
| !=	| 不等于 - 比较两个对象是否不相等	| (a != b) 返回 true.
| <>	| 不等于 - 比较两个对象是否不相等	| (a <> b) 返回 true。这个运算符类似 != 。
| >	| 大于 - 返回x是否大于y	(a > b) 返回 False。
| <	| 小于 - 返回x是否小于y。	| (a < b) 返回 true。
| >=	| 大于等于	- 返回x是否大于等于y。	| (a >= b) 返回 False。
| <=	| 小于等于 -	返回x是否小于等于y。	| (a <= b) 返回 true。

所有比较运算符返回1表示真，返回0表示假。这分别与特殊的变量True和False等价。

#### 赋值

`=` 等于号也即赋值运算符，将等号右边的值赋给左边的变量。

例如：`a = 1` 将 整数1的值赋给变量`a`。

赋值运算符的执行顺序是这样的：先计算右边的值，再讲将右边的值赋给左边的值。

例如：

`a = a + 1`

假设`a`原来的值是`1`，从`=`的右边先看

`a + 1`的结果是`2`

程序计算完右边的值，对程序来说这个语句变成了：

`a = 2`

也就是说在阅读赋值表达式的时候，把右边的值先完全计算出来，然后用值把右边的所有东西都删去，替换成这个表达式的值，即可。

另外，是不是感觉，`a = a + 1` 有点啰嗦，要打两次`a`。

其实可以把它直接缩写成`a += 1`，这里可以看做就是`a + 1`，但是把左边的`=`省略到`+`里，变成`+=`。

或者可以把`+=`读作“自增”，`a += 1`读作"`a`自增`1`"，也就可以理解`+=`的作用了。

类似的还有`-=`等，

如下：

| 运算符 | 描述 | 实例 |
|:---:  |:---:          |:---:|
| +=	  | 加法赋值运算符 |	`c += a` 等效于 `c = c + a` |
| -=	  | 减法赋值运算符 |	`c -= a` 等效于 `c = c - a` |
| *=	  | 乘法赋值运算符 |	`c *= a` 等效于 `c = c * a` |
| /=	  | 除法赋值运算符 |	`c /= a` 等效于 `c = c / a` |
| %=	  | 取模赋值运算符 |	`c %= a` 等效于 `c = c % a` |
| **=	  | 幂赋值运算符  |	`c **= a` 等效于 `c = c ** a` |
| //=	  | 取整除赋值运算符 |	`c //= a` 等效于 `c = c // a` |

`仅做介绍，不用记忆，用到再来`


#### 逻辑运算符

* `or` 
  * 逻辑或，作用：当左右两边的布尔表达式同时为假（False），运算结果为假（False），否则都为真（True）。(以下是例子)
  >`1<2 or 3<2`的值为`True`。
  >
  >`3<2 or 1<2`的值为`True`。
  >
  >`1<2 or 3<4`的值为`True`。
  >
  >`3<2 or 4<2`的值为`False`。
  * 也即以下值为`True`：
    * `True or True`
    * `True or False`
    * `False or True`
  * 而`Fasle or False`的值为`False`
* `and`
  * 逻辑与，作用：当左右两边的布尔表达式同时为真（True），运算结果即为真（True），否则都是`False`。(以下是例子)
  >`1<2 and 3<4`的值为`True`。
  >
  >`1<2 and 3<2`的值为`False`。
  >
  >`3<2 and 1<2`的值为`False`。
  >
  >`3<2 and 4<2`的值为`False`。
  * 也即以下值为`False`：
    * `False and False`
    * `True and False`
    * `False and True`
  * 而`True and True`的值为`True`
* `not` 
  * 逻辑非，作用：将右边的布尔值取反。也就是True变False，False变True
  >`not 1<2`的值为`False`
  >
  >`not 3<4`的值为`True`

    * 也即:`not True`的值为`False`，`not False`的值为`True`
* `!=` 和 `is not` （两者等效）
  * 不等于
* `==` 和 `is` （两者等效）
  * 等于

## 变量

可以认为变量是对一个数据的命名，变量在使用前是需要声明的，在python中变量的声明通过对变量的赋值进行，例如`a = 1`即声明了一个变量`a`，他的值是`1`。

例如以下代码会报出错误：`NameError: name 'a' is not defined`

``` python
print(a)
```

原因是变量`a`并没有被提前声明

改成下面这样就可以了：

``` python
a = 1
print(a)
```

### 变量命名规范（初学的话仅做了解）

变量就是一个有名字的数据，那么命名就很重要了。

变量名有以下几个规则：

1. 第一个字符必须是字母或者下划线“_”

2. 剩下的部分可以是字母、下划线“_”或数字（0-9）

3. 变量名称是对大小写敏感的，myname和myName不是同一个变量。

规则是一定要符合的，不然程序会报错。

变量的命名一定要具意命名并且用英文，比如保存姓名的变量就叫`name`，不要叫`mingzi`。

`命名规范`是变量在符合上面的命名规则后的建议。

例如有个变量，用来保存Bean曾经说过的话。

不用`命名规范`来命名变量呢，他可以是这样`wordsfrombean`，也可以是`Words_fromBean`，单词量都一样，变量的实际含义也一样，但是形式却不统一，会让代码变得混乱。

常见的`命名规范`方式有：

* 驼峰命名法
* 匈牙利命名法
* 帕斯卡（Pascal）命名法
* 下划线命名法

python的命名风格主要是`驼峰命名法`和`下划线命名法`的混合：

驼峰命名法：第一个单词以小写字母开始；从第二个单词开始以后的每个单词的首字母都采用大写字母。

例如：`myFirstName`、`myLastName`

下划线命名法：单词直接用 `_` （下划线）隔开，变量名小写、常量全大写等，详细看下面的几个介绍。

> 下面关于函、类和模块的命名方式仅做介绍，后面学了函数和类再来看。

1. 变量名

  * 变量名尽量小写, 如有多个单词，用下划线隔开
  
  ``` python
  count = 0
  school_name = ''
  ```

  * 常量采用全大写，如有多个单词，使用下划线隔开

  ```
  MAX_CLIENT = 100
  MAX_CONNECTION = 1000
  CONNECTION_TIMEOUT = 600
  ```

2. 函数

  * 函数名一律小写，如有多个单词，用下划线隔开

  ``` python
  def run():
    pass

  def run_with_env():
      pass
  ```

  * 私有函数在函数前加一个下划线_

  ``` python
  class Person():

    def _private_func():
        pass
  ```

3. 类
  类名使用驼峰(CamelCase)命名风格，首字母大写，私有类可用一个下划线开头

  ``` python
  class Farm():
    pass

  class AnimalFarm(Farm):
      pass

  class _PrivateFarm(Farm):
      pass
  ```
  
4. 模块
  模块尽量使用小写命名，首字母保持小写，尽量不要用下划线(除非多个单词，且数量不多的情况)

  ```python
  # 正确的模块名
  import decoder
  import html_parser

  # 不推荐的模块名
  import Decoder
  ```

### 补充

python 不是强类型语言，也就是在声明变量的时候不用去提前告诉程序，变量到底是什么类型。

程序会根据当前的值去推算变量的类型。

例如在强类型语言中（例如Java等），声明一个整数：`int a = 1`，python中只需要`a = 1`。

强类型语言声明一个字符串：`String s = "hello"`，python中只需要`s = 'hello'`

并且python的数据类型也是动态的，变量a可以先是整数，再将一个字符串赋值给它，就变成了字符串：
``` python
a = 1
print(a)
a = 'hello'
print(a)
```
上面程序的结果是：
```
1
hello
```

所以，不用很在意一个基本数据类型的变量到底是什么，但是如果是字典、列表、字典和集合的话就要注意，后续再补充为什么。

### 基本数据类型

* Python中的数据类型分为：
    1. 字符串 str
    2. 数字 
        * int 整数
        * float 浮点型 
        * bool 布尔值（因为是逻辑值，其实也是数字，在离散数学里把0当做False，1当做True）
    3. 列表 -> list
    4. 元祖 -> tuple
    5. 字典 -> dict
    6. 集合 -> set

上述6个数据类型中，前2个是基本数据类型，细分的话是4个。

每个数据类型后面跟着的的英文是其在Python中的名字，也代表着转换函数的名称。

>例如：`a = int('123')`，会将字符串'123'转换为整数123，并赋值给变量 `a`

### 数据运算

不同数据类型的变量在进行运算的时候一般不能直接运算。

> 例如：`a = '1' + 2`会报错

要进行数据运算时需要相同类型才能进行运算

> 例如：`a = int('1') + 2`，才可以把字符串`'1'`转换为整数`1`和整数`2`进行加法运算。 
> 
>注意：浮点型float可以和整数int直接运算，例如`a = 1.0 + 2`，得到的结果会是`2.0`，也就是会将整数转换为浮点数进行计算。

而像列表、元祖、字典和集合属于特殊的数据类型，用于特殊的目的，他们的运算方式会比较特殊，后面再补充。