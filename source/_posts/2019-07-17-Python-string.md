---
title: Python-string
date: 2019-07-17 13:22:59
categories:
- Python
tags:
- Python
- Note
---
## 本文内容

初步介绍字符串的基本知识，编码问题的科普和字符串的格式化。

其他的关于字符串的长度、编码转换等等，后续再补充。

## 什么是字符串

例如：`!`、`a`、`@`、`1`、`=`、`#`、`/`，等等这种单个字母、数字或者符号都称之为一个字符

字符串，顾名思义就是字符组成的串，用来表示多个字符组成的一段序列，可以代表一个单词，一个句子，甚至一大段文字。

在变量一节中，也提到了，字符串也是python基本数据类型的一种。

## 编码问题 (科普说明)

其实对于计算机来说，所有的东西，都是数字。

不论多么复杂的东西，到最后都转换成二进制的数字。

### 什么是二进制

借用一下百度百科：

>二进制数据是用0和1两个数码来表示的数。 它的基数为2，进位规则是“逢二进一”，借位规则是“借一当二”。

日常生活中计数用的是十进制，也就是逢十进一，每个数位上（个十百千万等）的数字都在0-9这10个数字里，当`9+1`时，个位变成了10，逢十进一，也就是变成了`10`。

十进制里，`0+1`是`1`，`1+1`是`2`。

在二进制里`0+1`是`1`，但是`1+1`的结果低位是`2`，逢二进一，也就是结果为`10`。

>注意：这是二进制的`10`

换算方法其实也就是`数位上的值乘以2的x次方的和`，x从0开始，从右往左依次相加。

例如：二进制的`101`，换算为十进制，从右往左：`1*2^0 + 0*2^1 + 1*2^2 = 5`，也就是十进制的`5`

### 什么是字节Byte

讲完了二进制，那么什么是字节呢？

在十进制中，每个数位有各自的名字，个十百千万等。

在二进制中，每个数位称为一位（bit），也叫作比特。从右往左，称右边的数位为低位，左边的数位为高位。

以`8`个bit为一个单位，叫做字节（byte），也就是`1 byte = 8 bit`

在书面表示的时候，通常以每4个bit分割。

例如：十进制数字`65`的二进制表示为`0100 0001`，在内存中占`2Byte`。

常见数字十进制数字：`65535`，换算成二进制就是`1111 1111 1111 1111`也就是16位或16比特，`16/8=2`也就是这个数字占2个字节，是2个字节所能表示最大的整数。


### 什么是编码问题

计算机一开始设计的时候，内存很小，并且美国人母语是英文，所以一开始编入了`127`个字符，包括26个大小写字母和一些符号。

这`127`个数字代表的`127`个字符也叫`ASCII`码，`ASCII`也是一种编码方式。

后来呢，要表示中文、日文、俄文等等各种乱七八糟的文字，原来的`127`个数字肯定是不够的，所以需要拓展，用更多的字节容纳更多数字来表示更多的字符。

那么，底层的计算机都是二进制数字，如何知道这个数字对应了什么字符呢。

编码的作用就在这里，同样的数字，不同的编码对应的字符是不一样的。

同样是数字`666666`，在unicode和utf8，两个编码集里可能代表了不同的字符。

又例如，`"中"`这个中文，在`ASCII`码中已经超出显示范围了，是不能被显示的，而在`unicode`中，其对应二进制数：`0100 1110 0010 1101`，而在`utf8`中对应二进制数：`1110 0100 1011 1000 1010 1101`

> 分别对应十进制的`20013`和`14,989,485`
>
> `unicode`和`utf8`都是编码集的一种，emoji就是被编码`unicode`里的。

## 关于字符串

python中，字符串的形式可以是`'hello'`，也可以是`"hello"`，两者都表示同一个字符串`hello`。

例如：

``` python
a = 'hello'
b = "hello"
print(a is b)
```

运行的结果：

``` python 
True
```

也就是说，字符串用单引号`''`和双引号`""`包括起来的效果是一样的。

但是例如字符串本身包含单引号或者双引号，那么可以用另一个包括起来。

例如：`"This is Bean's Blog"`和`'he said "oh shit"'`，都是合法的字符串。

## 字符串的拼接

python中，拼接两个字符串，可以通过两个字符串相加完成。

例如有变量`a = 'hello'`和变量`b = 'world'`，要怎么只用这两个变量打印`hello world`呢？

答案就是字符串的拼接

``` python
a = 'hello'
b = 'world'
print(a + ' ' + b)
```

> a和b两个字符串之间还缺一个空格，所以要`a+空格+b`

结果就是：

``` python
hello world
```

## 字符串的格式化

常常遇到，要打印一段字符串，但是字符串的内容又是由很多变量组成的。

例如：

``` python
name = 'bear'
time = '2019-7-xx'
sth = 'i dont know'
print('hello' + ',' + name + '.Now is '+ time + '. Bean said '+ sth)
```

运行的结果会是：

``` python
hello,bear.Now is 2019-7-xx. Bean said i dont know
```

会比较繁琐，写起来手也酸（加号和引号疯狂敲打），那么有没有一次性把整句话打完，再把`name`和`sth`这两个变量填进去的方法呢？

对字符串进行格式化起的就是这样的作用。

用字符串格式化的方式实现上面的例子，会是这样的：

``` python
name = 'bear'
time = '2019-7-xx'
sth = 'i dont know'
print('hello,%s.Now is %s. Bean said %s' % (name,time,sth))
```

`print`括号里的内容就是在对字符串进行格式化，可以理解为是一个占位的东西。

格式化的字符串是`'hello,%s.Now is %s. Bean said %s'`，而`%`是一个运算符，表示将右边的变量（有多个的话用小括号包括起来）按顺序，填入格式化的字符串中。

`%`右边括号中的若干变量，也被称做是格式化的参数，关于参数，到函数那里会补充。

`%s`被称作占位符，告诉程序，这里要填的内容是什么数据类型。

> `%s`代表被格式化的内容是字符串

而其他类似的占位符：

| 占位符 | 替换内容 |
|:---:|:---:|
| %s | 字符串 |
| %d | 整数 |
| %f | 浮点数 |
| %x | 十六进制整数 |

当参数和占位符的数据类型不符时，会自动调用相应的类型转换函数进行类型转换。

例如：

``` python
print('i need a float : %f' % 555)
```

结果会是：

``` python
i need a float : 555.000000
```

也就是参数`555`，在被格式化填入到`%f`的位置的时候，自动进行了类型转换，从整数转换成了浮点数。

同样的`%x`填入十六进制数也是一样的。

``` python
print('here hava a hexadecimal integer : %x' % 666)
```

结果：

``` python
here hava a hexadecimal integer : 29a
```

也就是十进制数`666`被自动转换成了十六进制数`29a`

关于进制下面会讲。